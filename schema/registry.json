{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "description": "A weme-ui registry of components, composables, themes, blocks, etc.",
  "type": "object",
  "properties": {
    "name": {
      "type": "string",
      "description": "The name of the registry.",
      "examples": ["@weme-ui/std", "@weme-ui/plus"]
    },
    "version": {
      "type": "string",
      "description": "The version of the registry. Empty to use the version from `package.json`.",
      "format": "semver",
      "examples": ["1.0.0"]
    },
    "description": {
      "type": "string",
      "description": "The description of the registry."
    },
    "prefix": {
      "type": "string",
      "description": "Default prefix for added components of the registry.",
      "examples": ["ui"]
    },
    "access": {
      "type": "string",
      "description": "The access level of the registry.",
      "enum": ["public"],
      "default": "public"
    },
    "meta": {
      "type": "object",
      "description": "Additional metadata for the registry.",
      "properties": {
        "authors": {
          "type": "array",
          "description": "The authors of the registry.",
          "items": {
            "type": "string"
          }
        },
        "homepage": {
          "type": "string",
          "description": "The homepage of the registry.",
          "format": "uri"
        },
        "repository": {
          "type": "string",
          "description": "The repository of the registry.",
          "format": "uri"
        },
        "bugs": {
          "type": "string",
          "description": "The bugs page of the registry.",
          "format": "uri"
        },
        "tags": {
          "type": "array",
          "description": "The tags of the registry.",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "dependencies": {
      "type": "array",
      "description": "The dependencies of the registry.",
      "items": {
        "type": "string"
      }
    },
    "devDependencies": {
      "type": "array",
      "description": "The dev dependencies of the registry.",
      "items": {
        "type": "string"
      }
    },
    "items": {
      "type": "array",
      "description": "The items of the registry.",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the item. This is used to identify the item in the registry. It should be unique for your registry.",
            "examples": ["button", "icon"]
          },
          "type": {
            "type": "string",
            "description": "The type of the item.",
            "enum": ["component", "composable", "layout", "theme", "block", "page"],
            "examples": ["component"]
          },
          "title": {
            "type": "string",
            "description": "The human-readable title for your registry item. Keep it short and descriptive.",
            "examples": ["Button", "Icon"]
          },
          "description": {
            "type": "string",
            "description": "A short description of the item.",
            "examples": ["A button component.", "An icon component."]
          },
          "author": {
            "type": "string",
            "description": "The author of the item. Recommended format: username <email>",
            "examples": ["Your Name <your-name@email.com>"]
          },
          "dependencies": {
            "type": "array",
            "description": "An array of NPM dependencies required by the item.",
            "items": {
              "type": "string"
            }
          },
          "devDependencies": {
            "type": "array",
            "description": "An array of NPM dev dependencies required by the item.",
            "items": {
              "type": "string"
            }
          },
          "registryDependencies": {
            "type": "array",
            "description": "An array of registry dependencies required by the item. This is an array of registry item names.",
            "items": {
              "type": "string"
            }
          },
          "files": {
            "type": "array",
            "description": "The main payload of files required by the item.",
            "items": {
              "type": "object",
              "properties": {
                "path": {
                  "type": "string",
                  "description": "The path to the file. This is relative to the item's directory."
                },
                "content": {
                  "type": "string",
                  "description": "The content of the file. This is a stringified version of the file's content."
                },
                "type": {
                  "type": "string",
                  "description": "The type of the file. This is used to group files in the registry.",
                  "enum": ["component", "composable", "plugin", "util", "type", "style", "file"]
                },
                "target": {
                  "type": "string",
                  "description": "The target path to the file. This is relative to the user's project directory."
                }
              },
              "if": {
                "properties": {
                  "type": {
                    "enum": ["file"]
                  }
                }
              },
              "then": {
                "required": ["path", "type", "target"]
              },
              "else": {
                "required": ["path", "type"]
              }
            }
          },
          "cssVars": {
            "type": "object",
            "description": "The CSS variables required by the item.",
            "additionalProperties": {
              "type": "string"
            }
          },
          "meta": {
            "type": "object",
            "description": "Additional metadata for the item. This is an object with any key value pairs.",
            "additionalProperties": true
          },
          "docs": {
            "type": "string",
            "description": "The documentation for the item. This is a markdown string."
          },
          "categories": {
            "type": "array",
            "items": {
              "type": "string",
              "description": "The categories of the item. This is an array of strings."
            }
          }
        },
        "required": ["name", "type", "files"]
      }
    }
  },
  "required": ["name", "items"],
  "uniqueItems": true
}
